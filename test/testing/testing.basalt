
event player_event::command {
  if game command_equals('@greet') {
    let sender = game_values::name;
    let players = game_values::plot_player_uuids as list[string];

    for uuid in players {
      selection {
        select_object::player_name(uuid);
        player_action::send_message("Hello from", sender);
        select_object::reset();
      }
    }
  }

  if game command_equals('@test') {
    let test = {
      'bar': {
        'baz': 0
      }
    };

    test['foo'] = {};
    test['goo'] = {};

    test['foo']['bar'] += 10;
    test['goo']['boo'] = set_variable::random_number(0, 10) as number;

    player_action::send_message(test['foo']['bar'] as text);

    for key, value in test {
      player_action::send_message(key as text, value as text);
    }
  }
}

event player_event::join {
  let first = set_variable::random_number(0, 10) as number;
  let second = set_variable::random_number(0, 10) as number;

  let amount = first + second;

  let stitched = "foo" + "bar";

  player_action::send_message("stiched = ", stitched);

  for test to amount {
    player_action::send_message("test = ", test as text, "hi");
  }

  # repeat forever {
  #   while player is_sneaking() {
  #     player_action::action_bar("sneaker");
  #   }
  #   
  #   control::wait(1);
  # }
}