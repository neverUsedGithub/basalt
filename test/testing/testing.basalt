
event player_event::command {
  if game command_equals('@greet') {
    let @line sender = game_values::name;
    let @line players = game_values::plot_player_uuids as list[string];

    for @line uuid in @line players {
      selection {
        select_object::player_name(@line uuid);
        player_action::send_message("Hello from", @line sender);
        select_object::reset();
      }
    }
  }

  if game command_equals('@test') {
    let @line test = set_variable::create_dict() as dict[string];
    set_variable::set_dict_value(ref @line test, 'test', 'foo');

    for @line key, @line value in @line test {
      player_action::send_message(@line key as text, @line test as text);
    }
  }
}

event player_event::join {
  # repeat forever {
  #   while player is_sneaking() {
  #     player_action::action_bar("sneaker");
  #   }
  #   
  #   control::wait(1);
  # }
}